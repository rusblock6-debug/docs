<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Интерактивный словарь АСУ ГТК</title>
  <script src="https://cdn.tailwindcss.com"></script> <!-- Tailwind CSS для стилей -->
  <script src="https://cdn.jsdelivr.net/npm/react@18/umd/react.development.js"></script> <!-- React для динамики -->
  <script src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone@7.20.6"></script> <!-- Babel для компиляции -->
</head>
<body class="bg-gray-100 font-sans">
  <div id="root" class="container mx-auto p-4"></div> <!-- Контейнер для React -->
  <script type="text/babel">
    // Массив терминов из Markdown
    const terms = [
      { id: 1, term: "АСУ ГТК", definition: "Автоматизированная Система Управления Горно-Транспортным Комплексом — основная система для сбора телеметрии, контроля и диспетчеризации в горнодобыче.", category: "Автоматизация", knownBy: ["Оператор", "Заказчик"], example: "АСУ ГТК управляет маршрутами самосвалов." },
      { id: 2, term: "БВР", definition: "Бурение-Взрывные Работы — процесс подготовки горной массы к добыче, включает бурение и взрывы; требует аналитики качества.", category: "Производство", knownBy: ["Оператор", "Заказчик"], example: "БВР планируется для оптимизации добычи." },
      { id: 3, term: "Борт", definition: "Комплект оборудования на технике (железо + ПО + сервисное ПО) для сбора данных и взаимодействия с сервером.", category: "Оборудование", knownBy: ["Оператор"], example: "Борт на самосвале передаёт данные о КИГ." },
      { id: 4, term: "ВШТ", definition: "Внутришахтный Транспорт — система перемещения материалов внутри шахты (локомотивы, вагонетки); включает циклы операций.", category: "Производство", knownBy: ["Оператор"], example: "ВШТ доставляет руду к скипу." },
      { id: 5, term: "Геозона", definition: "Определенная область на карте карьера для контроля позиций техники; используется в редакторе для маршрутов и ограничений.", category: "Автоматизация", knownBy: ["Оператор", "Заказчик"], example: "Геозона ограничивает зону разгрузки." },
      { id: 6, term: "КИГ", definition: "Коэффициент Использования Грузоподъемности — метрика загрузки самосвалов; рассчитывается для предотвращения недогрузов/перегрузов.", category: "Метрики", knownBy: ["Оператор", "Заказчик"], example: "КИГ = 0.9 означает 90% загрузки." },
      { id: 7, term: "КИО", definition: "Коэффициент Использования Оборудования — показатель эффективности использования техники (работа vs. простой).", category: "Метрики", knownBy: ["Оператор", "Заказчик"], example: "КИО показывает, сколько времени техника работала." },
      { id: 8, term: "КТГ", definition: "Коэффициент Технической Готовности — метрика готовности оборудования к работе (учет ремонтов и простоев).", category: "Метрики", knownBy: ["Оператор", "Заказчик"], example: "КТГ падает из-за частых ремонтов." },
      { id: 9, term: "Машиносмена", definition: "Период работы техники в одну смену (обычно 12 часов); используется для учета наработки и планирования.", category: "Производство", knownBy: ["Оператор", "Заказчик"], example: "Машиносмена учитывает пробег самосвала." },
      { id: 10, term: "Моточасы", definition: "Общее время работы двигателя техники; ключевой параметр для диагностики и ТО.", category: "Метрики", knownBy: ["Оператор", "Заказчик"], example: "После 500 моточасов нужен ТО." },
      { id: 11, term: "Наряд-задание", definition: "Сменное задание для техники или оператора (маршрут, объем, место); выдается диспетчером или автоматически.", category: "Автоматизация", knownBy: ["Оператор", "Заказчик"], example: "Наряд-задание указывает пункт разгрузки." },
      { id: 12, term: "OEE", definition: "Overall Equipment Effectiveness — комплексный коэффициент эффективности оборудования (доступность, производительность, качество).", category: "Метрики", knownBy: ["Оператор", "Заказчик"], example: "OEE помогает оценить эффективность экскаватора." },
      { id: 13, term: "ПДМ", definition: "Погрузочно-Доставочная Машина — техника для погрузки и доставки горной массы в подземных работах; имеет циклы черпания.", category: "Оборудование", knownBy: ["Оператор"], example: "ПДМ грузит руду в шахте." },
      { id: 14, term: "ПР", definition: "Пункт Разгрузки — место выгрузки горной массы (склад, дробилка); учитывается в маршрутах и балансе потоков.", category: "Производство", knownBy: ["Оператор", "Заказчик"], example: "ПР — это склад у фабрики." },
      { id: 15, term: "СБУ", definition: "Самоходная Буровая Установка — техника для бурения скважин; циклы включают позиционирование и бурение.", category: "Оборудование", knownBy: ["Оператор"], example: "СБУ готовит скважины для БВР." },
      { id: 16, term: "СКЗ", definition: "Система Контроля Загрузки — датчики на самосвалах для измерения веса груза; интегрируется для расчета КИГ.", category: "Оборудование", knownBy: ["Оператор"], example: "СКЗ предотвращает перегруз самосвала." },
      { id: 17, term: "Скип", definition: "Подъемник для вертикального транспорта материалов в шахте; часть сквозных процессов.", category: "Оборудование", knownBy: ["Оператор"], example: "Скип поднимает руду на поверхность." },
      { id: 18, term: "Статус оборудования", definition: "Текущее состояние техники (работа, простой с причиной); определяет цветовую индикацию и аналитику.", category: "Автоматизация", knownBy: ["Оператор", "Заказчик"], example: "Красный статус — техника на ТО." },
      { id: 19, term: "Субблок", definition: "Подраздел блока горной массы; используется для учета выработки и качества материала.", category: "Производство", knownBy: ["Оператор", "Заказчик"], example: "Субблок определяет качество руды." },
      { id: 20, term: "ТО", definition: "Техническое Обслуживание — плановые или внеплановые работы по ремонту; влияет на КТГ и расписание.", category: "Производство", knownBy: ["Оператор", "Заказчик"], example: "ТО планируется после 500 моточасов." },
      { id: 21, term: "Цикл перевозки", definition: "Рейс самосвала (погрузка — груженый — разгрузка — порожний); базовая единица для аналитики.", category: "Производство", knownBy: ["Оператор", "Заказчик"], example: "Цикл перевозки занимает 20 минут." },
      { id: 22, term: "Цикл черпания", definition: "Операция погрузочной техники (черпание — высыпание); для экскаваторов, ПДМ.", category: "Производство", knownBy: ["Оператор"], example: "Цикл черпания длится 30 секунд." },
      { id: 23, term: "ШАС", definition: "Шахтный Автомобильный Самосвал — самосвал для подземных работ; циклы аналогичны наземным.", category: "Оборудование", knownBy: ["Оператор"], example: "ШАС перевозит руду в шахте." },
      { id: 24, term: "Шихт-пакет", definition: "Состав смеси горной массы для переработки; контролируется для качества на складе.", category: "Производство", knownBy: ["Оператор", "Заказчик"], example: "Шихт-пакет влияет на качество продукции." },
      { id: 25, term: "Автоматическая диспетчеризация", definition: "Автоматизированное распределение техники по маршрутам для баланса нагрузки, сокращения простоев и достижения плана.", category: "Автоматизация", knownBy: ["Заказчик"], example: "Система автоматически отправляет самосвал к ПР." },
      { id: 26, term: "Аналитика данных", definition: "Поиск узких мест производства, генерация отчетов и гипотез для оптимизации (включая ИИ для исторических данных).", category: "Автоматизация", knownBy: ["Заказчик"], example: "Аналитика выявила простой из-за плохой дороги." },
      { id: 27, term: "Антинаезд", definition: "Система предотвращения наездов техники на персонал или объекты; часть промышленной безопасности.", category: "Безопасность", knownBy: ["Заказчик"], example: "Антинаезд останавливает самосвал при риске." },
      { id: 28, term: "Выполнение плана на смену", definition: "Сравнение плана (объем, качество) с фактом; подсветка отклонений для корректировки.", category: "Автоматизация", knownBy: ["Заказчик"], example: "План на смену выполнен на 95%." },
      { id: 29, term: "Консалтинг предприятий", definition: "Анализ данных для рекомендаций по расширению производства; включает поиск узких мест и презентации.", category: "Автоматизация", knownBy: ["Заказчик"], example: "Консалтинг предложил новый маршрут." },
      { id: 30, term: "Контроль использования грузоподъемности", definition: "Мониторинг КИГ для повышения производительности и снижения ремонтов от перегрузок.", category: "Метрики", knownBy: ["Заказчик"], example: "Контроль КИГ сократил износ шин." },
      { id: 31, term: "Модуль диагностики", definition: "Инструмент для мониторинга состояния оборудования; включает предиктивные технологии для предотвращения поломок.", category: "Автоматизация", knownBy: ["Заказчик"], example: "Модуль диагностики предсказал поломку двигателя." },
      { id: 32, term: "Оперативный контроль", definition: "Онлайн-мониторинг позиций и статусов техники; включает карту, FleetControl и корректировку нарядов.", category: "Автоматизация", knownBy: ["Заказчик"], example: "Оперативный контроль отслеживает самосвалы в реальном времени." },
      { id: 33, term: "Предиктивные технологии", definition: "Прогнозирование поломок оборудования на основе данных; часть модуля диагностики.", category: "Автоматизация", knownBy: ["Заказчик"], example: "Предиктивные технологии предупреждают о замене деталей." },
      { id: 34, term: "Промышленная безопасность", definition: "Системы позиционирования персонала, антинаезд, контроль физического состояния; интеграция с ЭСМО.", category: "Безопасность", knownBy: ["Заказчик"], example: "Промышленная безопасность снижает риски аварий." },
      { id: 35, term: "Промышленная связь", definition: "Сеть для передачи телеметрии; с самодиагностикой для выявления слабых зон.", category: "Автоматизация", knownBy: ["Заказчик"], example: "Промышленная связь обеспечивает стабильный сигнал." },
      { id: 36, term: "Прослеживание сквозных процессов", definition: "Отслеживание потоков материалов от добычи до фабрики; включает учет выработки и качество.", category: "Автоматизация", knownBy: ["Заказчик"], example: "Прослеживание выявило потери руды." },
      { id: 37, term: "Рейтинг оператора", definition: "Оценка эффективности операторов по метрикам; для мотивации и внедрения лучших практик.", category: "Метрики", knownBy: ["Заказчик"], example: "Рейтинг оператора влияет на премии." },
      { id: 38, term: "Сбор данных", definition: "Преобразование телеметрии в производственные данные для учета, аналитики и расчета зарплаты.", category: "Автоматизация", knownBy: ["Заказчик"], example: "Сбор данных помогает рассчитать КИО." },
      { id: 39, term: "Учет топлива", definition: "Контроль заправок, сливов и удельных расходов; для снижения затрат и выявления аномалий.", category: "Метрики", knownBy: ["Заказчик"], example: "Учет топлива выявил слив на заправке." },
      { id: 40, term: "ЭСМО", definition: "Электронная Система Мониторинга Оборудования — интеграция для безопасности и контроля.", category: "Автоматизация", knownBy: ["Заказчик"], example: "ЭСМО интегрируется с антинаездом." }
    ];

    function Glossary() {
      const [filterRole, setFilterRole] = React.useState("Все"); // Фильтр по роли
      const [filterCategory, setFilterCategory] = React.useState("Все"); // Фильтр по категории
      const [search, setSearch] = React.useState(""); // Поиск

      // Фильтрация терминов
      const filteredTerms = terms.filter(term =>
        (filterRole === "Все" || term.knownBy.includes(filterRole)) &&
        (filterCategory === "Все" || term.category === filterCategory) &&
        term.term.toLowerCase().includes(search.toLowerCase())
      );

      // Уникальные категории для выпадающего списка
      const categories = ["Все", ...new Set(terms.map(term => term.category))];

      return (
        <div className="max-w-4xl mx-auto">
          <h1 className="text-3xl font-bold mb-4 text-center text-blue-600">Словарь АСУ ГТК</h1>
          <div className="flex flex-col sm:flex-row gap-4 mb-6">
            <select
              className="p-2 border rounded bg-white shadow-sm"
              value={filterRole}
              onChange={(e) => setFilterRole(e.target.value)}
            >
              <option>Все</option>
              <option>Оператор</option>
              <option>Заказчик</option>
            </select>
            <select
              className="p-2 border rounded bg-white shadow-sm"
              value={filterCategory}
              onChange={(e) => setFilterCategory(e.target.value)}
            >
              {categories.map(category => (
                <option key={category}>{category}</option>
              ))}
            </select>
            <input
              type="text"
              placeholder="Поиск термина..."
              className="p-2 border rounded bg-white shadow-sm w-full sm:w-1/2"
              value={search}
              onChange={(e) => setSearch(e.target.value)}
            />
          </div>
          <div className="grid gap-4">
            {filteredTerms.length === 0 ? (
              <p className="text-center text-gray-500">Термины не найдены</p>
            ) : (
              filteredTerms.map(term => (
                <div key={term.id} className="bg-white p-4 rounded shadow hover:shadow-md transition">
                  <h2 className="text-xl font-semibold text-blue-800">{term.term}</h2>
                  <p className="text-gray-700">{term.definition}</p>
                  <p className="text-sm text-gray-600">Пример: {term.example}</p>
                  <p className="text-sm text-gray-600">Категория: {term.category}</p>
                </div>
              ))
            )}
          </div>
        </div>
      );
    }

    ReactDOM.render(<Glossary />, document.getElementById("root"));
  </script>
</body>
</html>